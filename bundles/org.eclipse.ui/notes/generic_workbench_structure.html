<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Generic workbench structure</title>
</head>

<body>

<h1>Generic workbench structure</h1>
<p>Last modified July 21, 2003</p>
<p>Table&nbsp; of contents:</p>
<blockquote>
  <p><a href="#2.1-structure">Existing plug-in and API structure of 2.1 Platform
  UI</a><br>
  <a href="#restructuring-plan">Proposed plug-in and API restructuring plan for
  Platform UI</a><br>
  <a href="#3.0-structure">Proposed plug-in and API structure of 3.0 Platform UI</a></p>
</blockquote>
<h2><b><a name="2.1-structure"></a>Existing plug-in and API structure of 2.1
Platform UI</h2>
</b>
<p>The big picture:</p>
<p><img border="0" src="2.1-plug-in-map.gif" width="590" height="740"></p>
<p>Prior to 2.1, the org.eclipse.ui plug-in was the monolithic implementation of
the Eclipse Platform UI. The above picture reflects the restructuring that done
for 2.1 which introduced several new plug-ins:</p>
<ul>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.ui.workbench</li>
  <li>org.eclipse.ui.views</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.ui.workbench.texteditor</li>
  <li>org.eclipse.ui.editors</li>
</ul>
<p>The workbench is in principal independent from text editors (org.eclipse.text,
org.eclipse.jface.text, org.eclipse.ui.workbench.texteditor, and
org.eclipse.ui.editors plug-ins). The exceptions are:</p>
<ol>
  <li>SystemSummaryEditor is a special purpose text editor defined in the
    org.eclipse.ui.editors plug-in and used by the workbench's about dialog.</li>
  <li>The workbench internal class SelectionEnabler refers to ITextSelection.</li>
  <li>The definition of extension points and the declaration of extensions for
    which the text editor plug-ins partially use org.eclipse.ui</li>
  <li>The usage of the workbench's preference store and logging facilities by
    the text editor plug-ins</li>
  <li>org.eclipse.ui re-exports text editor plug-ins.</li>
</ol>
<p>(3) through (5) were done to provide compatibility for clients dependent on
org.eclipse.ui before it was split up. Sustaining compatibility also required
that API package names be kept stable, and this resulted in places where classes
in the same package come from several &quot;package extensions&quot; distributed
across plug-ins. The 3 instance of this are:</p>
<ul>
  <li>Package org.eclipse.jface.text is declared in the org.eclipse.jface.text
    plug-in and extended in the org.eclipse.text plug-in.</li>
  <li>Package org.eclipse.ui.actions is declared in the org.eclipse.ui.workbench
    plug-in and extended in the org.eclipse.ui.views plug-in.</li>
  <li>Package org.eclipse.ui.texteditor is declared in the
    org.eclipse.ui.workbench.texteditor plug-in and extended in the
    org.eclipse.ui.editors plug-in.</li>
</ul>
<p>Existing API map: list of API packages, extension points, and the plug-ins
that declare them.<br>
<br>
<b>plug-in org.eclipse.ui</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in is the front man for the entire Platform UI. Although this
    plug-in has no API of its own, it re-exports the API from several plug-ins:
    org.eclipse.swt, org.eclipse.text, org.eclipse.jface, org.eclipse.jface.text,
    org.eclipse.ui.workbench, org.eclipse.ui.workbench.texteditor,
    org.eclipse.ui.views, and org.eclipse.ui.editors. This plug-in declares most
    of the Platform UI extension points, including most of the ones for text
    editors.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.xerces</li>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.help</li>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.swt</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.ui.editors</li>
  <li>org.eclipse.ui.views</li>
  <li>org.eclipse.ui.workbench</li>
  <li>org.eclipse.ui.workbench.texteditor</li>
  <li>org.eclipse.update.core</li>
</ul>
<p>API packages</p>
<p>none</p>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal (* - extension of package declared in
    org.eclipse.ui.workbench plug-in)</li>
</ul>
<p>Extension points</p>
<ul>
  <li>actionSetPartAssociations</li>
  <li>actionSets</li>
  <li>capabilities.mxsd</li>
  <li>commands</li>
  <li>decorators</li>
  <li>documentProviders</li>
  <li>dropActions</li>
  <li>editorActions</li>
  <li>editors</li>
  <li>elementFactories</li>
  <li>exportWizards</li>
  <li>fontDefinitions</li>
  <li>importWizards</li>
  <li>markerHelp</li>
  <li>markerImageProviders</li>
  <li>markerResolution</li>
  <li>markerUpdaters</li>
  <li>newWizards</li>
  <li>perspectiveExtensions</li>
  <li>perspectives</li>
  <li>popupMenus</li>
  <li>preferencePages</li>
  <li>projectNatureImages</li>
  <li>propertyPages</li>
  <li>resourceFilters</li>
  <li>startup</li>
  <li>viewActions</li>
  <li>views</li>
  <li>workingSets</li>
</ul>
<b>
<p>plug-in org.eclipse.ui.win32</p>
</b>
<p>Notes:</p>
<ul>
  <li>This is a plug-in fragment of the org.eclipse.ui plug-in.</li>
  <li>This fragment adds OLE editor support (Windows). This fragment does not
    contribute any API.</li>
</ul>
<p>API packages</p>
<p>none</p>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.editorsupport.win32</li>
</ul>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.jface</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains all of JFace except text-related viewers.</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.swt</li>
  <li>org.eclipse.core.runtime</li>
  <li>org.apache.xerces</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.jface.action</li>
  <li>org.eclipse.jface.action.images</li>
  <li>org.eclipse.jface.dialogs</li>
  <li>org.eclipse.jface.dialogs.images</li>
  <li>org.eclipse.jface.images</li>
  <li>org.eclipse.jface.operation</li>
  <li>org.eclipse.jface.preference</li>
  <li>org.eclipse.jface.preference.images</li>
  <li>org.eclipse.jface.progress</li>
  <li>org.eclipse.jface.resource</li>
  <li>org.eclipse.jface.util</li>
  <li>org.eclipse.jface.viewers</li>
  <li>org.eclipse.jface.window</li>
  <li>org.eclipse.jface.wizard</li>
  <li>org.eclipse.jface.wizard.images</li>
</ul>
<p>Internal packages</p>
<p>none</p>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.text</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the basic non-GUI text infrastructure (no dependence
    on JFace text).</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
  <li>The API for this package is in an extension of the org.eclipse.jface.text
    package for historical reasons of API compatibility. The preferred API
    package name would be org.eclipse.text.</li>
</ul>
<p>Required plug-ins</p>
<p>none</p>
<p>API packages</p>
<ul>
  <li>org.eclipse.jface.text (* - extension of package declared in
    org.eclipse.jface.text plug-in)</li>
</ul>
<p>Internal packages</p>
<p>none</p>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.jface.text</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the GUI text infrastructure.</li>
  <li>The API for this plug-in depends on both JFace and the non-GUI text
    infrastructure.</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.swt</li>
  <li>org.eclipse.text</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.jface.text (* - extended by org.eclipse.text plug-in)</li>
  <li>org.eclipse.jface.text.contentassist</li>
  <li>org.eclipse.jface.text.formatter</li>
  <li>org.eclipse.jface.text.information</li>
  <li>org.eclipse.jface.text.presentation</li>
  <li>org.eclipse.jface.text.reconciler</li>
  <li>org.eclipse.jface.text.rules</li>
  <li>org.eclipse.jface.text.source</li>
</ul>
<p>Internal packages</p>
<p>none</p>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.ui.workbench</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the bulk of the API and implementation for the
    workbench. It has the API for editors and views (particular views and
    editors are defined elsewhere).</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
  <li>This plug-in has a small number of API and internal dependencies on
    org.eclipse.core.resources, notably for IMarker and IResource. By and large
    the API is &quot;resource-free&quot;.</li>
  <li>This plug-in has an (internal) dependence on org.eclipse.jface.text for
    ITextSelection, but is otherwise independent of text editor support.</li>
  <li>This plug-in has an (internal) dependence on org.eclipse.update.core for
    launching the update manager when there are plug-in incoming updates on
    startup, and for extracting feature and plug-in info to show in the about
    dialog.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.xerces</li>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.help</li>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.swt</li>
  <li>org.eclipse.update.core</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui</li>
  <li>org.eclipse.ui.actions (* - extended by org.eclipse.ui.views plug-in)</li>
  <li>org.eclipse.ui.commands</li>
  <li>org.eclipse.ui.contexts</li>
  <li>org.eclipse.ui.dialogs</li>
  <li>org.eclipse.ui.help</li>
  <li>org.eclipse.ui.wizards.newresource</li>
  <li>org.eclipse.ui.model</li>
  <li>org.eclipse.ui.part</li>
  <li>org.eclipse.ui.plugin</li>
  <li>org.eclipse.ui.progress</li>
  <li>org.eclipse.ui.wizards.datatransfer</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal (* - this package is extended by other plug-ins)</li>
  <li>org.eclipse.ui.internal.actions</li>
  <li>org.eclipse.ui.internal.commands</li>
  <li>org.eclipse.ui.internal.commands.registry</li>
  <li>org.eclipse.ui.internal.commands.util</li>
  <li>org.eclipse.ui.internal.decorators</li>
  <li>org.eclipse.ui.internal.dialogs</li>
  <li>org.eclipse.ui.internal.fonts</li>
  <li>org.eclipse.ui.internal.ide (new)</li>
  <li>org.eclipse.ui.internal.misc</li>
  <li>org.eclipse.ui.internal.model</li>
  <li>org.eclipse.ui.internal.progress</li>
  <li>org.eclipse.ui.internal.registry</li>
  <li>org.eclipse.ui.internal.editorsupport</li>
</ul>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.ui.views</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the API and implementation for the workbench's
    standard views.</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
  <li>Some of the API for this package is in an extension of the
    org.eclipse.ui.actions package for historical reasons of API compatibility.
    The sole class in this extension is AddTaskAction.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.help</li>
  <li>org.eclipse.ui.workbench</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.views.bookmarkexplorer</li>
  <li>org.eclipse.ui.views.contentoutline</li>
  <li>org.eclipse.ui.views.framelist</li>
  <li>org.eclipse.ui.views.markers</li>
  <li>org.eclipse.ui.views.markers.internal</li>
  <li>org.eclipse.ui.views.navigator</li>
  <li>org.eclipse.ui.views.properties</li>
  <li>org.eclipse.ui.views.tasklist</li>
  <li>org.eclipse.ui.actions (* - extension of package declared in
    org.eclipse.ui.workbench plug-in)</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal (* - extension of package declared in
    org.eclipse.ui.workbench plug-in)</li>
</ul>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.ui.workbench.texteditor</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the API and implementation for the workbench's text
    editor framework.</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
  <li>This plug-in has a minor API dependency on org.eclipse.core.resources for
    IMarker, but is otherwise &quot;resource-free&quot;.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.ui.workbench</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.texteditor (* - extended by org.eclipse.ui.editors plug-in)</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.texteditor</li>
</ul>
<p>Extension points</p>
<ul>
  <li>markerAnnotationSpecification</li>
</ul>
<b>
<p>plug-in org.eclipse.ui.editors</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the standard text editor and the API and
    implementation for editing IFile-based documents.</li>
  <li>The API packages for this plug-in are exported to the world by the
    org.eclipse.ui plug-in. However, there is nothing preventing existing
    plug-ins from referring to this plug-in directly.</li>
  <li>Some of the API for this package is in an extension of the
    org.eclipse.ui.texteditor package for historical reasons of API
    compatibility.</li>
  <li>The SystemSummaryEditor that is part of the org.eclipse.ui.editors plug-in
    is used only by the workbench's about dialog.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.ui.views</li>
  <li>org.eclipse.ui.workbench</li>
  <li>org.eclipse.ui.workbench.texteditor</li>
  <li>org.eclipse.update.core</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.editors.quickdiff</li>
  <li>org.eclipse.ui.editors.text</li>
  <li>org.eclipse.ui.texteditor (* - extension of package declared in
    org.eclipse.ui.workbench.texteditor plug-in)</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.editors.quickdiff</li>
  <li>org.eclipse.ui.internal.editors.quickdiff.compare.rangedifferencer</li>
  <li>org.eclipse.ui.internal.editors.text</li>
</ul>
<p>Extension points</p>
<ul>
  <li>quickDiffReferenceProvider</li>
</ul>
<b>
<p>org.eclipse.ui.versioncheck</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in is run on startup when there is a discrepancy between the
    version recorded in the metadata area and the version of the Eclipse
    platform doing the opening.</li>
  <li>This plug-in has no API or extension points.</li>
  <li>This plug-in bypasses the Platform UI by taking directly to SWT if it
    needs to talk to the user.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.swt</li>
</ul>
<p>API packages</p>
<p>None</p>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.versioncheck</li>
</ul>
<p>Extension points</p>
<p>None</p>
<b>
<p>plug-in org.eclipse.help</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the non-UI API portion of the help system, and some
    of the help system implementation.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.xerces</li>
  <li>org.apache.lucene</li>
  <li>org.eclipse.help.appserver</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.help</li>
  <li>org.eclipse.help.browser</li>
  <li>org.eclipse.help.standalone</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.help.internal</li>
  <li>org.eclipse.help.internal</li>
  <li>org.eclipse.help.internal.browser</li>
  <li>org.eclipse.help.internal.browser.macosx</li>
  <li>org.eclipse.help.internal.context</li>
  <li>org.eclipse.help.internal.protocols</li>
  <li>org.eclipse.help.internal.search</li>
  <li>org.eclipse.help.internal.standalone</li>
  <li>org.eclipse.help.internal.toc</li>
  <li>org.eclipse.help.internal.util</li>
  <li>org.eclipse.help.internal.workingset</li>
</ul>
<p>Extension points</p>
<ul>
  <li>browser</li>
  <li>contentProducer</li>
  <li>contexts</li>
  <li>luceneAnalyzer</li>
  <li>support</li>
  <li>toc</li>
  <li>webapp</li>
</ul>
<b>
<h2><a name="restructuring-plan"></a>Proposed plug-in and API restructuring plan
for Platform UI</h2>
</b>
<ul>
  <li>Tease apart the workbench into a &quot;generic workbench&quot;, which can
    be tailored for use by arbitrary applications, and a specific IDE
    application that tailors the generic workbench for its purposes.</li>
  <li>By &quot;generic&quot; we mean application independent.</li>
  <li>The generic workbench has empty menus.</li>
  <li>The generic workbench should be reasonably lean.</li>
  <li>Move IDE-specific API from the generic workbench API into an IDE-specific
    API package in an IDE-specific plug-in.</li>
  <li>Move IDE-specific internals from the generic workbench implementation into
    an IDE-specific plug-in.</li>
  <li>Move generic UI extension points into the generic workbench plug-in, and
    IDE-specific extension points into an IDE-specific plug-in.</li>
  <li>Add new API to generic workbench so that an application, like the IDE, can
    configure the generic workbench to suit without having to reach into the
    internals of the workbench implementation.</li>
  <li>Allow generic editors (such as the text editor) and generic views (such as
    the properties view) to be used with the generic workbench, but as an
    optional extra.</li>
  <li>The most likely source of breaking API changes will be the moving of
    IDE-specific API from the generic workbench.</li>
  <li>But it's hard to gauge breakage in the abstract. We need to dig into the
    details to discover both problems and available solutions.</li>
  <li>Without further ado, here is how we propose to tease things apart.</li>
  <li>In broad strokes:
    <ul>
      <li>The existing org.eclipse.ui.workbench plug-in is the best starting
        point for the generic workbench.</li>
      <li>There needs to be a new plug-in to hold the IDE-specific workbench.
        Call this org.eclipse.ui.ide.</li>
      <li>The generic API and implementation is already in the
        org.eclipse.ui.workbench plug-in. These stay.</li>
      <li>There is some IDE-specific API in the org.eclipse.ui.workbench
        plug-in. This needs to move up into the org.eclipse.ui.ide plug-in .</li>
      <li>There is some IDE-specific internal implementation in the the
        org.eclipse.ui.workbench plug-in. This needs to move up into the
        org.eclipse.ui.ide plug-in.</li>
      <li>The Platform UI extension points are currently in org.eclipse.ui
        plug-in. The generic ones need to move to the org.eclipse.ui.workbench
        plug-in (the generic editor-related ones move to generic text editor);
        the IDE-specific ones move to one of the IDE-specific plug-ins.</li>
      <li>This leaves the org.eclipse.ui plug-in empty (it had no API, and now
        its extension points have been sold off). So we get rid of this plug-in.</li>
      <li>The views in the org.eclipse.ui.views plug-in are split up, with the
        generic views (properties, content outline) going into separate generic
        plug-ins (named org.eclipse.ui.views.properties and
        org.eclipse.ui.views.contentoutline), and the IDE-specific views going
        to the org.eclipse.ui.ide plug-in. The org.eclipse.ui.views plug-in goes
        away.</li>
      <li>A new org.eclipse.ui.views.navigator plug-in is created to hold the
        new general-purpose navigator (being worked on elsewhere), which becomes
        another optional plug-in that can be used with the generic workbench.</li>
      <li>The text editors in org.eclipse.ui.workbench.texteditor are almost
        completely generic already, with the IDE-specific parts already isolated
        in org.eclipse.ui.editors. The remaining IDE-specific dependencies would
        need to be moved from the org.eclipse.ui.workbench.texteditor plug-in to
        the org.eclipse.ui.editors plug-in. Both of these plug-ins would be
        retained. The generic text editor extension points move from the
        org.eclipse.ui plug-in to the org.eclipse.ui.workbench.texteditor
        plug-in.</li>
      <li>The name org.eclipse.ui is the best name for the generic workbench,
        and it's no longer used. So we rename the org.eclipse.ui.workbench
        plug-in (currently its name is only known internally to the Platform UI)
        to org.eclipse.ui. The plug-in id now matches the primary package name,
        and the current name of the extension points, and most existing clients
        are already referencing it.</li>
      <li>The new org.eclipse.ui plug-in now contains just the generic
        workbench. It does not include the generic views or text editors.</li>
      <li>The new org.eclipse.ui plug-in can re-export the APIs from the
        plug-ins that it's API depends on, namely: from the org.eclipse.swt and
        org.eclipse.jface plug-ins. It is no longer dependent on
        org.eclipse.text, org.eclipse.jface.text,
        org.eclipse.ui.workbench.texteditor, org.eclipse.ui.views, or
        org.eclipse.ui.editors; so it is no longer in a position re-export any
        of their APIs.</li>
      <li>The new org.eclipse.ui.ide plug-in would now declare its API in
        eponymous org.eclipse.ui.ide[.*] packages.</li>
      <li>The new org.eclipse.ui.ide plug-in is dependent on the new
        org.eclipse.ui plug-in together with the plug-ins that are part and
        parcel of the IDE's workbench namely: org.eclipse.ui.views.properties,
        org.eclipse.ui.views.contentoutline, org.eclipse.ui.views.navigator, and
        org.eclipse.ui.editors.</li>
      <li>From the point of view of a regular plug-in, the org.eclipse.ui
        plug-in loses (a) all its IDE-specific API and extension points to the
        new org.eclipse.ui.ide plug-in, (b) all its text editor-specific aspects
        to the new (as far as it knows) org.eclipse.ui.workbench.texteditor and
        org.eclipse.ui.editors plug-ins, and (c) all its view-specific aspects
        to the new org.eclipse.ui.views.properties,
        org.eclipse.ui.views.contentoutline, org.eclipse.ui.views.navigaror and
        org.eclipse.ui.ide plug-ins. For clients that depended on the
        IDE-specific parts, text editors, or particular views, these changes are
        breaking. Existing simple clients that only depend on the generic parts
        of org.eclipse.ui are not affected.</li>
      <li>Although the new org.eclipse.ui.ide plug-in could re-export the APIs
        from the plug-ins that its API depends on, the practice of re-exporting
        APIs is not something we want to encourage. It is just as easy in this
        case for clients to prereq the indvidual plug-ins that they need.</li>
      <li>The generic workbench depends on the org.eclipse.help plug-in for
        certain API classes it defines, such as IHelp.</li>
      <li>The org.eclipse.help plug-in declares extension points, including
        those for contributing help documents (toc, contexts, support).</li>
      <li>The org.eclipse.help plug-in also includes help system implementation
        not needed as a necessary part of the generic workbench implementation,
        and extension points into which parts of the implementation get
        contributed (browser, appServer, lucene).</li>
      <li>We split the org.eclipse.help plug-in in two: the org.eclipse.help
        plug-in retains the API and extension points for contributing help
        documents; a new org.eclipse.help.base plug-in gets the implementation
        and the extension points for configuring the implementation. The generic
        workbench plug-in depends only on org.eclipse.help.</li>
    </ul>
  </li>
</ul>
<p>The above are the main changes. There are certain other cleanup possibilities
that the above changes uncover:</p>
<ul>
  <li>The org.eclipse.text plug-in declares its API in the
    org.eclipse.jface.text package. This is for historical reasons of API
    compatibility. This is not ideal because the org.eclipse.jface.text package
    really belongs to the the org.eclipse.jface.text plug-in. Ideally, the
    org.eclipse.text plug-in would declares all its API in its own
    org.eclipse.text package. This would eliminate the package extension at the
    cost of an API package rename, which would be visible to clients of the
    Platform's text editors. (We would be forced to eliminate all package
    extensions if we independently decide to change the Platform runtime to
    allow more a more fluid class loading story based on package imports and
    exports; e.g., OSGI bundles). [need community input to assess impact]</li>
  <li>The old org.eclipse.ui.views plug-in declares one API class in the
    org.eclipse.ui.actions package. This class is related to the tasks view,
    which moves to the org.eclipse.ui.ide plug-in and would now be logically
    located in an org.eclipse.ui.ide[.*] API package. So this package extension
    goes away in the wash.</li>
  <li>The old org.eclipse.ui.editors plug-in declares some API classes in the
    org.eclipse.ui.texteditor package which is owned by the
    org.eclipse.ui.workbench.texteditor plug-in. This extension exists to
    preserve strict API compatibility from 2.0 to 2.1. Ideally, the
    org.eclipse.ui.editors plug-in would declares all its API in one of its own
    org.eclipse.ui.editors packages. This would eliminate the package extension
    at the cost of an API package rename, which would be visible to clients of
    the Platform's text editors. [need community input to assess impact]</li>
  <li>The org.eclipse.ui.workbench.texteditor should be renamed to
    org.eclipse.ui.texteditor for consistency and to match its API package
    names. This plug-in was not advertised as public before, and there was no
    reason for any plug-in to explicitly prereq it. So renaming should not cause
    downstream breakage. (Retaining the CVS version history might be a more
    important consideration.) [need community input to assess impact]</li>
  <li>The org.eclipse.ui.editors plug-in name already matches its API package
    names. If we were to rename the plug-in to bring it into line with
    org.eclipse.ui.ide, we would create and inconsistency between its plug-in
    name and its package name. Bringing these back into line would entail
    renaming the API packages. So its probably best left as is.</li>
</ul>
<h2><a name="3.0-structure"></a>Proposed plug-in and API structure of 3.0
Platform UI</h2>
<p>The big picture:</p>
<p><img border="0" src="3.0-plug-in-map.gif" width="590" height="708"></p>
<b>
<p>plug-in org.eclipse.ui</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in is the front man for the generic workbench portion of the
    Platform UI. Although this plug-in has API of its own and also re-exports
    the API from the org.eclipse.swt and org.eclipse.jface plug-ins.</li>
  <li>This plug-in also declares the workbench's generic extension points (but
    none that are specific to the text editor or the generic views).</li>
  <li>This plug-in re-exports the API of org.eclipse.swt and org.eclipse.jface.</li>
  <li>This plug-in does not depend on org.eclipse.core.resources. Everything
    having to do with workspace resources is found in the IDE-specific workbench
    (org.eclipse.ui.ide plug-in).</li>
  <li>This plug-in does not depend on org.eclipse.update.core.</li>
  <li>This plug-in does not depend on org.eclipse.jface.text or org.eclipse.text.
    Optional generic text editor support is found in the
    org.eclipse.ui.workbench.texteditor.</li>
  <li>This plug-in still depends on org.eclipse.help.</li>
  <li>The branch work for this plug-in will be done in the existing
    org.eclipse.ui.workbench project; the project and plug-in rename will be
    left to the very end, so that we can easily merge changes from HEAD. (For
    all the affected projects, the branch is called &quot;RCP_WORK_1&quot; and
    is branched off from HEAD at &quot;PRE_RCP_STATE_1&quot;).</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.xerces</li>
  <li>org.eclipse.core.runtime</li>
  <li>org.eclipse.help</li>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.swt</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui (generic classes only - IDE-specific classes moved to the
    org.eclipse.ui.ide plug-in).</li>
  <li>org.eclipse.ui.actions (generic classes only, such as PartEventAction -
    IDE-specific classes moved to the org.eclipse.ui.ide plug-in).</li>
  <li>org.eclipse.ui.application (new package for application-specific
    configuration of the workbench)</li>
  <li>org.eclipse.ui.commands</li>
  <li>org.eclipse.ui.contexts</li>
  <li>org.eclipse.ui.dialogs (generic classes only, such as PropertyDialogAction
    and ListSelectionDialog - IDE-specific classes moved to the
    org.eclipse.ui.ide plug-in).</li>
  <li>org.eclipse.ui.help</li>
  <li>org.eclipse.ui.model</li>
  <li>org.eclipse.ui.part (generic classes only - IDE-specific classes, such as
    FileEditorInput, moved to the org.eclipse.ui.ide plug-in).</li>
  <li>org.eclipse.ui.plugin</li>
  <li>org.eclipse.ui.progress</li>
</ul>
<p>Internal packages</p>
<p>TBD</p>
<p>Extension points</p>
<ul>
  <li>actionSetPartAssociations</li>
  <li>actionSets</li>
  <li>commands</li>
  <li>decorators</li>
  <li>dropActions</li>
  <li>editorActions</li>
  <li>editors</li>
  <li>elementFactories</li>
  <li>fontDefinitions</li>
  <li>perspectiveExtensions</li>
  <li>perspectives</li>
  <li>popupMenus</li>
  <li>preferencePages</li>
  <li>propertyPages</li>
  <li>startup</li>
  <li>viewActions</li>
  <li>views</li>
</ul>
<b>
<p>plug-in fragment org.eclipse.ui.win32</p>
</b>
<p>This plug-in fragment of org.eclipse.ui plug-in is unchanged. (We are
investigating whether this can be turned into a regular plug-in, to simplify
things.) An application would include this fragment (or plug-in) only if they
need support for OLE editors.</p>
<p>API packages</p>
<p>none</p>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.editorsupport.win32</li>
</ul>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.jface</p>
</b>
<p>This plug-in is unscathed. Its API is still surfaced to the world via the
org.eclipse.ui plug-in re-exporting it.</p>
<p>Notes:</p>
<ul>
  <li>This plug-in contains all of JFace except text-related viewers.</li>
  <li>This plug-in is internal to the existing Platform UI. It's API is exported
    to the world by the org.eclipse.ui plug-in.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.swt</li>
  <li>org.eclipse.core.runtime</li>
  <li>org.apache.xerces</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.jface.action</li>
  <li>org.eclipse.jface.action.images</li>
  <li>org.eclipse.jface.dialogs</li>
  <li>org.eclipse.jface.dialogs.images</li>
  <li>org.eclipse.jface.images</li>
  <li>org.eclipse.jface.operation</li>
  <li>org.eclipse.jface.preference</li>
  <li>org.eclipse.jface.preference.images</li>
  <li>org.eclipse.jface.progress</li>
  <li>org.eclipse.jface.resource</li>
  <li>org.eclipse.jface.util</li>
  <li>org.eclipse.jface.viewers</li>
  <li>org.eclipse.jface.window</li>
  <li>org.eclipse.jface.wizard</li>
  <li>org.eclipse.jface.wizard.images</li>
</ul>
<p>Internal packages</p>
<p>none</p>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.text</p>
</b>
<p>Notes:</p>
<ul>
  <li>Unchanged (assuming API remains in a org.eclipse.jface.text package
    extension).</li>
</ul>
<p>Required plug-ins</p>
<p>none</p>
<p>API packages</p>
<ul>
  <li>org.eclipse.jface.text (a package extension of an API package declared by
    org.eclipse.jface.text plug-in)</li>
</ul>
<p>Internal packages</p>
<p>none</p>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.jface.text</p>
</b>
<p>Notes:</p>
<ul>
  <li>Unchanged (assuming org.eclipse.text API remains in a
    org.eclipse.jface.text package extension).</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.jface</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.swt</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.jface.text (this package is extended in org.eclipse.text
    plug-in)</li>
  <li>org.eclipse.jface.text.contentassist</li>
  <li>org.eclipse.jface.text.formatter</li>
  <li>org.eclipse.jface.text.information</li>
  <li>org.eclipse.jface.text.presentation</li>
  <li>org.eclipse.jface.text.reconciler</li>
  <li>org.eclipse.jface.text.rules</li>
  <li>org.eclipse.jface.text.source</li>
</ul>
<p>Internal packages</p>
<p>none</p>
<p>Extension points</p>
<p>none</p>
<b>
<p>plug-in org.eclipse.ui.views.properties</p>
</b>
<p>Notes:</p>
<ul>
  <li>The generic properties view would be an optional component of the generic
    workbench.</li>
  <li>The code for this comes from the org.eclipse.ui.views.properties package
    in the defunct org.eclipse.ui.views plug-in.</li>
  <li>The branch work for this plug-in will be done in the existing
    org.eclipse.ui.views project; the project and plug-in rename will be left to
    the very end, so that we can easily merge changes from HEAD.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.ui (which also re-exports org.eclipse.swt and
    org.eclipse.jface)</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.views.properties (formerly found in org.eclipse.ui.views
    plug-in)</li>
</ul>
<p>Internal packages</p>
<p>TBD</p>
<p>Extension points</p>
<p>None</p>
<b>
<p>plug-in org.eclipse.ui.views.contentoutline</p>
</b>
<p>Notes:</p>
<ul>
  <li>The generic content outline view would be an optional component of the
    generic workbench.</li>
  <li>The code for this comes from the org.eclipse.ui.views.contentoutline
    package in the defunct org.eclipse.ui.views plug-ins.</li>
  <li>The branch work for this plug-in will be done in the existing
    org.eclipse.ui.views project; the project and plug-in rename will be left to
    the very end, so that we can easily merge changes from HEAD.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.ui (which also re-exports org.eclipse.swt and
    org.eclipse.jface)</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.views.contentoutline (formerly found in
    org.eclipse.ui.views plug-in)</li>
</ul>
<p>Internal packages</p>
<p>TBD</p>
<p>Extension points</p>
<p>None</p>
<b>
<p>plug-in org.eclipse.ui.views.navigator</p>
</b>
<p>Notes:</p>
<ul>
  <li>The general-purpose navigator view would be an optional component of the
    generic workbench.</li>
  <li>The general-purpose navigator view is being developed independently.</li>
  <li>The existing navigator view is very IDE-specific. The code for this is
    likely brand new, and would not be IDE-specific. The relationship between
    the API in the existing org.eclipse.ui.views.navigator package in the
    org.eclipse.ui.views plug-in is TBD. (One possibility is that the old
    navigator view is retrained and moved to org.eclipse.ui.ide plug-in.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.ui (which also re-exports org.eclipse.swt and
    org.eclipse.jface)</li>
</ul>
<p>API packages</p>
<p>TBD</p>
<p>Internal packages</p>
<p>TBD</p>
<p>Extension points</p>
<p>None</p>
<p><b>plug-in org.eclipse.ui.workbench.texteditor</p>
</b>
<p>Notes:</p>
<ul>
  <li>The generic text editor would be an optional component of the generic
    workbench.</li>
  <li>All resource- or IDE-specific stuff is removed from this plug-in.</li>
  <li>This plug-in does depend on org.eclipse.ui for things like IEditorPart</li>
  <li>This plug-in no longer depends on org.eclipse.core.resources.</li>
  <li>The branch work for this plug-in will be done in the existing
    org.eclipse.ui.workbench.texteditor project.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.ui (which also re-exports org.eclipse.swt and
    org.eclipse.jface)</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.texteditor</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.texteditor</li>
</ul>
<p>Extension points</p>
<ul>
  <li>markerAnnotationSpecification</li>
  <li>markerUpdaters (formerly in org.eclipse.ui)</li>
  <li>documentProviders (formerly in org.eclipse.ui)</li>
</ul>
<b>
<p>plug-in org.eclipse.ui.ide</p>
</b>
<p>Notes:</p>
<ul>
  <li>The new IDE-specific workbench plug-in.</li>
  <li>This is a new plug-in project. Much of the prototyping work can be done in
    HEAD.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.xerces</li>
  <li>org.eclipse.core.runtime</li>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.help</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.ui (which also re-exports org.eclipse.swt and
    org.eclipse.jface)</li>
  <li>org.eclipse.ui.views.contentoutline</li>
  <li>org.eclipse.ui.views.properties</li>
  <li>org.eclipse.ui.views.navigator</li>
  <li>org.eclipse.ui.editors</li>
  <li>org.eclipse.update.core</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.ide (new - content TBD)</li>
  <li>org.eclipse.ui.ide.actions (IDE-specific portions of
    org.eclipse.ui.actions)</li>
  <li>org.eclipse.ui.ide.dialogs (IDE-specific portions of
    org.eclipse.ui.dialogs)</li>
  <li>org.eclipse.ui.ide.part (IDE-specific portions of org.eclipse.ui.part)</li>
  <li>org.eclipse.ui.ide.wizards.newresource (formerly
    org.eclipse.ui.wizards.newresource)</li>
  <li>org.eclipse.ui.ide.wizards.datatransfer (formerly
    org.eclipse.ui.wizards.datatransfer)</li>
  <li>org.eclipse.ui.ide.views.bookmarkexplorer (formerly
    org.eclipse.ui.views.bookmarkexplorer)</li>
  <li>org.eclipse.ui.ide.views.markers (formerly org.eclipse.ui.views.markers)</li>
  <li>org.eclipse.ui.ide.views.tasklist (formerly org.eclipse.ui.views.tasklist)</li>
</ul>
<p>Internal packages</p>
<p>TBD</p>
<p>Extension points</p>
<ul>
  <li>capabilities.mxsd (formerly in org.eclipse.ui)</li>
  <li>exportWizards (formerly in org.eclipse.ui)</li>
  <li>importWizards (formerly in org.eclipse.ui)</li>
  <li>markerHelp (formerly in org.eclipse.ui)</li>
  <li>markerImageProviders (formerly in org.eclipse.ui)</li>
  <li>markerResolution (formerly in org.eclipse.ui)</li>
  <li>newWizards (formerly in org.eclipse.ui)</li>
  <li>projectNatureImages (formerly in org.eclipse.ui)</li>
  <li>resourceFilters (formerly in org.eclipse.ui)</li>
  <li>workingSets (formerly in org.eclipse.ui)</li>
</ul>
<b>
<p>plug-in org.eclipse.ui.editors</p>
</b>
<p>Notes:</p>
<ul>
  <li>IDE-specific text editors.</li>
  <li>The branch work for this plug-in will be done in the existing
    org.eclipse.ui.editors project; the project and plug-in rename will be left
    to the very end, so that we can easily merge changes from HEAD.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.core.resources</li>
  <li>org.eclipse.jface.text</li>
  <li>org.eclipse.text</li>
  <li>org.eclipse.ui (which also re-exports org.eclipse.swt and
    org.eclipse.jface)</li>
  <li>org.eclipse.ui.texteditor</li>
  <li>org.eclipse.ui.ide</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.ui.editors.quickdiff</li>
  <li>org.eclipse.ui.editors.text</li>
  <li>org.eclipse.ui.texteditor (extension of a package declared in
    org.eclipse.ui.workbench.texteditor)</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.editors.quickdiff</li>
  <li>org.eclipse.ui.internal.editors.quickdiff.compare.rangedifferencer</li>
  <li>org.eclipse.ui.internal.editors.text</li>
</ul>
<p>Extension points</p>
<ul>
  <li>quickDiffReferenceProvider</li>
</ul>
<b>
<p>org.eclipse.ui.versioncheck</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in is unchanged.</li>
  <li>Plug-in can simply be omitted in applications where there is no concern
    about warning the user of metadata version mismatches.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.eclipse.swt</li>
</ul>
<p>API packages</p>
<p>None</p>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.ui.internal.versioncheck</li>
</ul>
<p>Extension points</p>
<p>None</p>
<b>
<p>plug-in org.eclipse.help</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the main API and extension points of the help
    system. The help system implementation is now in org.eclipse.help.base.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.xerces</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.help</li>
</ul>
<p>Internal packages</p>
<p>TBD</p>
<p>Extension points</p>
<ul>
  <li>contentProducer</li>
  <li>contexts</li>
  <li>support</li>
  <li>toc</li>
</ul>
<b>
<p>plug-in org.eclipse.help.base</p>
</b>
<p>Notes:</p>
<ul>
  <li>This plug-in contains the help system implementation. The API and main
    extension points are still in org.eclipse.help.</li>
</ul>
<p>Required plug-ins</p>
<ul>
  <li>org.apache.lucene</li>
  <li>org.eclipse.help</li>
  <li>org.eclipse.help.appserver</li>
</ul>
<p>API packages</p>
<ul>
  <li>org.eclipse.help.browser (formerly in org.eclipse.help)</li>
  <li>org.eclipse.help.standalone (formerly in org.eclipse.help)</li>
</ul>
<p>Internal packages</p>
<ul>
  <li>org.eclipse.help.internal</li>
  <li>org.eclipse.help.internal</li>
  <li>org.eclipse.help.internal.browser</li>
  <li>org.eclipse.help.internal.browser.macosx</li>
  <li>org.eclipse.help.internal.context</li>
  <li>org.eclipse.help.internal.protocols</li>
  <li>org.eclipse.help.internal.search</li>
  <li>org.eclipse.help.internal.standalone</li>
  <li>org.eclipse.help.internal.toc</li>
  <li>org.eclipse.help.internal.util</li>
  <li>org.eclipse.help.internal.workingset</li>
</ul>
<p>Extension points</p>
<ul>
  <li>browser (formerly in org.eclipse.help)</li>
  <li>luceneAnalyzer (formerly in org.eclipse.help)</li>
  <li>webapp (formerly in org.eclipse.help)</li>
</ul>

</body>

</html>
